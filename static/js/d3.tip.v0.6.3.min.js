d3.tip=function(){function h(a){e=w(a),f=e.createSVGPoint(),document.body.appendChild(d)}function i(){return"n"}function j(){return[0,0]}function k(){return" "}function n(){var a=x();return{top:a.n.y-d.offsetHeight,left:a.n.x-d.offsetWidth/2}}function o(){var a=x();return{top:a.s.y,left:a.s.x-d.offsetWidth/2}}function p(){var a=x();return{top:a.e.y-d.offsetHeight/2,left:a.e.x}}function q(){var a=x();return{top:a.w.y-d.offsetHeight/2,left:a.w.x-d.offsetWidth}}function r(){var a=x();return{top:a.nw.y-d.offsetHeight,left:a.nw.x-d.offsetWidth}}function s(){var a=x();return{top:a.ne.y-d.offsetHeight,left:a.ne.x}}function t(){var a=x();return{top:a.sw.y,left:a.sw.x-d.offsetWidth}}function u(){var a=x();return{top:a.se.y,left:a.e.x}}function v(){var a=d3.select(document.createElement("div"));return a.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),a.node()}function w(a){return a=a.node(),"svg"==a.tagName.toLowerCase()?a:a.ownerSVGElement}function x(){var a=g||d3.event.target,b={},c=a.getScreenCTM(),d=a.getBBox(),e=d.width,h=d.height,i=d.x,j=d.y,k=document.documentElement.scrollTop||document.body.scrollTop,l=document.documentElement.scrollLeft||document.body.scrollLeft;return f.x=i+l,f.y=j+k,b.nw=f.matrixTransform(c),f.x+=e,b.ne=f.matrixTransform(c),f.y+=h,b.se=f.matrixTransform(c),f.x-=e,b.sw=f.matrixTransform(c),f.y-=h/2,b.w=f.matrixTransform(c),f.x+=e,b.e=f.matrixTransform(c),f.x-=e/2,f.y-=h/2,b.n=f.matrixTransform(c),f.y+=h,b.s=f.matrixTransform(c),b}var a=i,b=j,c=k,d=v(),e=null,f=null,g=null;h.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(g=e.pop());var o,f=c.apply(this,e),i=b.apply(this,e),j=a.apply(this,e),k=d3.select(d),n=0;for(k.html(f).style({opacity:1,"pointer-events":"all"});n--;)k.classed(m[n],!1);return o=l.get(j).apply(this),k.classed(j,!0).style({top:o.top+i[0]+"px",left:o.left+i[1]+"px"}),h},h.hide=function(){return nodel=d3.select(d),nodel.style({opacity:0,"pointer-events":"none"}),h},h.attr=function(a,b){if(arguments.length<2&&"string"==typeof a)return d3.select(d).attr(a);var c=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(d),c),h},h.style=function(a,b){if(arguments.length<2&&"string"==typeof a)return d3.select(d).style(a);var c=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(d),c),h},h.direction=function(b){return arguments.length?(a=null==b?b:d3.functor(b),h):a},h.offset=function(a){return arguments.length?(b=null==a?a:d3.functor(a),h):b},h.html=function(a){return arguments.length?(c=null==a?a:d3.functor(a),h):c};var l=d3.map({n:n,s:o,e:p,w:q,nw:r,ne:s,sw:t,se:u}),m=l.keys();return h};